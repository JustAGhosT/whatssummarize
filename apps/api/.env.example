# ===========================================
# WhatsSummarize API Server - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# ===========================================
# Server Configuration
# ===========================================
NODE_ENV=development
PORT=3001
HOST=0.0.0.0
API_PREFIX=/api
CORS_ORIGIN=http://localhost:3000

# ===========================================
# Database Configuration
# ===========================================
DB_TYPE=sqlite
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_NAME=whatssummarize
DB_SYNCHRONIZE=false
DB_LOGGING=false
DB_MIGRATIONS_RUN=true

# SQLite specific (overrides above if DB_TYPE=sqlite)
DATABASE_PATH=./data/database.sqlite

# ===========================================
# Authentication & Security
# ===========================================
# IMPORTANT: Generate a secure secret for production
# Use: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d
COOKIE_SECRET=your_cookie_secret_here

# ===========================================
# File Uploads
# ===========================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=text/plain,application/json

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_DIR=./logs

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# ===========================================
# Caching
# ===========================================
CACHE_ENABLED=true
CACHE_TTL=3600

# Redis Configuration (optional - for distributed caching)
# REDIS_URL=redis://localhost:6379

# ===========================================
# Frontend URLs (for CORS and redirects)
# ===========================================
FRONTEND_URL=http://localhost:3000

# ===========================================
# AI Services
# ===========================================
# Provider priority: Azure > OpenAI > Anthropic > Mock

# Azure AI Foundry (Azure OpenAI) - RECOMMENDED FOR ENTERPRISE
# Get credentials from: https://portal.azure.com -> Azure OpenAI
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_API_KEY=your-azure-openai-key
# AZURE_OPENAI_DEPLOYMENT=gpt-4
# AZURE_OPENAI_API_VERSION=2024-02-15-preview

# OpenAI Configuration (Direct API)
# Get your API key from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic Claude Configuration
# Get your API key from: https://console.anthropic.com/
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_MODEL=claude-3-sonnet-20240229

# ===========================================
# Azure Cloud Services (Optional)
# ===========================================
# Enable Azure as primary cloud provider
# AZURE_PROVIDER_ENABLED=true
# AZURE_TENANT_ID=your-tenant-id
# AZURE_SUBSCRIPTION_ID=your-subscription-id

# Azure Cosmos DB (NoSQL database alternative)
# AZURE_COSMOS_ENDPOINT=https://your-account.documents.azure.com
# AZURE_COSMOS_KEY=your-cosmos-key
# AZURE_COSMOS_DATABASE=whatssummarize
# AZURE_COSMOS_CONTAINER=chats

# Azure SQL Database (relational database alternative)
# AZURE_SQL_SERVER=your-server.database.windows.net
# AZURE_SQL_DATABASE=whatssummarize
# AZURE_SQL_USERNAME=your-username
# AZURE_SQL_PASSWORD=your-password
# AZURE_SQL_ENCRYPT=true

# Azure Blob Storage (file storage)
# AZURE_STORAGE_ACCOUNT_NAME=yourstorageaccount
# AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;...
# AZURE_STORAGE_CONTAINER=chat-exports
# AZURE_STORAGE_SAS_TOKEN=sv=2023-01-03&...

# Azure AD B2C (authentication)
# AZURE_AD_B2C_TENANT_NAME=yourtenant
# AZURE_AD_B2C_TENANT_ID=your-tenant-id
# AZURE_AD_B2C_CLIENT_ID=your-client-id
# AZURE_AD_B2C_CLIENT_SECRET=your-client-secret
# AZURE_AD_B2C_POLICY_NAME=B2C_1_signupsignin
# AZURE_AD_B2C_REDIRECT_URI=http://localhost:3000/auth/callback
# AZURE_AD_B2C_SCOPES=openid,profile,email

# Azure Redis Cache (distributed caching)
# AZURE_REDIS_HOSTNAME=your-cache.redis.cache.windows.net
# AZURE_REDIS_PORT=6380
# AZURE_REDIS_PASSWORD=your-redis-password
# AZURE_REDIS_TLS=true

# Azure Application Insights (monitoring)
# AZURE_APP_INSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx;...
# AZURE_APP_INSIGHTS_INSTRUMENTATION_KEY=your-instrumentation-key

# ===========================================
# Error Monitoring
# ===========================================
# Sentry DSN for error tracking
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# ===========================================
# Feature Flags
# ===========================================
FEATURE_REGISTRATION=true
FEATURE_EMAIL_VERIFICATION=false
FEATURE_PASSWORD_RESET=false
FEATURE_AI_SUMMARY=true
FEATURE_CHROME_EXTENSION=true

# ===========================================
# Development & Debugging
# ===========================================
DEBUG=app:*,typeorm:*
NODE_OPTIONS=--max-old-space-size=4096

# ===========================================
# AWS Services (Alternative to Azure)
# ===========================================
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-s3-bucket-name
